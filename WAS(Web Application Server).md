#java  
# WAS 웹어플리케이션 서버란?

## WS(Web Server) 
---
- HTTP 요청을 받고, 사용자가 필요한 자료를 HTTP로 보내는 컴퓨터
- 뒤에 말할 WAS와 달리 WS는 거의 웹페이지에 대한 가공이나 조작 없이 그냥 반환만 하는 역할을 함
- NGINX나 Apache를 WS로 많이 활용한다.
### 정적 웹 페이지
- 서버에 저장된 데이터(HTML, 이미지 파일, 등)를 그대로 반환한다는 뜻
- 사용자는 서버에 저장 된 데이터가 바뀌지 않는 한 고정 된 웹페이지를 보게 된다.
###  WS의 동작 방식 예시
1.  NGINX를 웹서버 안에 blog.html과  그 외 의 데이터들(html파일들, 이미지 파일 등)을 보관하고 있는다. 
2. 클라이언트에서 blog.html 파일 달라는 요청이 온다. `요청 예시) https://www.myblog.com/blog.html` 
3. WS는 저장된 blog.html을 찾아서 클라이언트로 보낸다.


## WAS(Web Application Server)
---
- 서버가 어플리케이션의 역할도 한다
- 웹 컨테이너 webcontainer
	- 웹 서버와 연결 되어 있는 응용 프로그램
	- webserver + webcontainer로 구성되어 있음.ache(또는 NGINX)웹 서버에  Tomcat(또는 Node
- 주로 Apache(또는 NGINX)웹 서버에  Tomcat(또는 Node)웹 컨테이너를 사용한다. 

### 동적 페이지
- 서버 안에 있는 데이터(HTML, 이미지 파일, 등)를 사용자의 요청에 따라 가공 처리를 한 다음에 데이터를 반환하게 된다.
- 사용자의 상황, 시간, 요청 등에 따라 웹페이지가 달라지게 된다.
- 말 그대로 서버가 어플리케이션처럼 동작하는 셈이다.
###  WAS의 동작 방식 예시
1.  NGINX 웹 서버와 node 웹 컨테이너가 연결 되어 있다.
2. 클라이언트에서 요청이 들어 온다.  `요청 예시) https://www.naver.com
3. 웹 서버는 웹 컨테이너에 요청을 넘겨준다.
4. 들어온 사용자 요청에 맞게 웹 컨테이너에서 프로그래밍을 통해 웹페이지를 생성한다.
5. 새로 생성된 웹페이지를 웹 서버를 통해 클라이언트로 전달한다.

### WAS의 대규모 트래픽 대응 및 특징
- 웹 서버 하나에 여러 개의 웹 컨테이너를 연결 시킨다.
	- NGINX 웹 서버 하나에 인공지능 관련 기능을 담당하는 flask와 그 로그인 기능을 담당하는 node 를 연결 시켜 두면 한 웹 컨테이너가 모든 기능을 수행하지 않아도 되서 부하가 덜 걸리게 된다.
 - 웹서버 안에 자주 사용하는 html 파일과 그 외의 정적 파일들을 저장해둬서 캐싱 서버 처럼 쓰기도 한다.
	 - index.html을 NGINX를 저장 해두고 웹컨테이너의 프로그래밍이 필요하지 않은 요청이면 ws처럼 해당 정적 파일을 전달해주기만 하고
	 - 프로그래밍이 필요하면 웹컨테이너에 요청을 보내서 처리하는 방식으로 동작한다.